"use strict";(self.webpackChunkdora_rs_github_io=self.webpackChunkdora_rs_github_io||[]).push([[3365],{43027:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>h,frontMatter:()=>d,metadata:()=>s,toc:()=>c});var o=t(74848),r=t(28453);const d={},i="\u52a8\u6001\u7ed3\u70b9",s={id:"guides/Development/dynamic-node",title:"\u52a8\u6001\u7ed3\u70b9",description:"\u8fd0\u884c\u8282\u70b9\u88ab python, jupyter \u6216 cargo \u8c03\u7528 \u60a8\u6240\u8981\u505a\u7684\u5c31\u662f\u5728\u6570\u636e\u6d41\u4e2d\u6307\u5b9a\u8282\u70b9\u662f\u52a8\u6001\u7684\uff0c\u5e76\u5728\u8282\u70b9\u4ee3\u7801\u4e2d\u6307\u5b9a\u8282\u70b9 Id\uff0c\u60a8\u5c06\u80fd\u591f\u5728\u4e0d\u4f7f\u7528 dora start \u7684\u60c5\u51b5\u4e0b\u672c\u5730\u8fd0\u884c\u8282\u70b9\u3002",source:"@site/i18n/zh-CN/docusaurus-plugin-content-docs/current/guides/Development/dynamic-node.md",sourceDirName:"guides/Development",slug:"/guides/Development/dynamic-node",permalink:"/zh-CN/docs/guides/Development/dynamic-node",draft:!1,unlisted:!1,editUrl:"https://crowdin.com/dora-rs/zh-CN",tags:[],version:"current",frontMatter:{},sidebar:"guides",previous:{title:"Arrow",permalink:"/zh-CN/docs/guides/Development/Arrow"},next:{title:"\u70ed\u52a0\u8f7d",permalink:"/zh-CN/docs/guides/Development/hot-reload"}},l={},c=[{value:"\u5f00\u59cb",id:"\u5f00\u59cb",level:2},{value:"\u4f7f\u7528\u4ea4\u4e92 Python\uff1a",id:"\u4f7f\u7528\u4ea4\u4e92-python",level:3},{value:"\u4f7f\u7528 Python",id:"\u4f7f\u7528-python",level:3},{value:"\u4f7f\u7528 Rust",id:"\u4f7f\u7528-rust",level:3},{value:"\u4f7f\u7528\u4e00\u4e2a jupyter notebook",id:"\u4f7f\u7528\u4e00\u4e2a-jupyter-notebook",level:3}];function a(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h1,{id:"\u52a8\u6001\u7ed3\u70b9",children:"\u52a8\u6001\u7ed3\u70b9"}),"\n",(0,o.jsxs)(n.p,{children:["\u8fd0\u884c\u8282\u70b9\u88ab python, jupyter \u6216 cargo \u8c03\u7528 \u60a8\u6240\u8981\u505a\u7684\u5c31\u662f\u5728\u6570\u636e\u6d41\u4e2d\u6307\u5b9a\u8282\u70b9\u662f\u52a8\u6001\u7684\uff0c\u5e76\u5728\u8282\u70b9\u4ee3\u7801\u4e2d\u6307\u5b9a\u8282\u70b9 Id\uff0c\u60a8\u5c06\u80fd\u591f\u5728\u4e0d\u4f7f\u7528 ",(0,o.jsx)(n.code,{children:"dora start"})," \u7684\u60c5\u51b5\u4e0b\u672c\u5730\u8fd0\u884c\u8282\u70b9\u3002"]}),"\n",(0,o.jsx)(n.h2,{id:"\u5f00\u59cb",children:"\u5f00\u59cb"}),"\n",(0,o.jsx)(n.p,{children:"\u60a8\u53ef\u4ee5\u5c1d\u8bd5\u8fd9\u4e2a\u6700\u5c0f\u5316\u7684\u4e00\u4e2a\u8282\u70b9\u793a\u4f8b\uff1a"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:"nodes:\n  - id: node_0\n    path: dynamic # <-- \u6211\u4eec\u9700\u8981\u5b9a\u4e49\u8def\u5f84: \u52a8\u6001\u8282\u70b9\u4e3a dynamic\n    inputs:\n      tick: dora/timer/millis/50\n"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"\u5728\u60a8\u7684\u7535\u8111\u590d\u5236\u8fd9\u4e2a\u6570\u636e\u6d41\uff0c\u60a8\u80fd\u7c98\u8d34\u5982\u4e0b\u5230\u60a8\u7684\u7ec8\u7aef\uff1a"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'echo -e "nodes:\\n  - id: node_0\\n    path: dynamic\\n    inputs:\\n      tick: dora/timer/millis/50" > dataflow.yaml\n'})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"\u542f\u52a8\u6570\u636e\u6d41"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"dora start dataflow.yaml\n"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"\u4f7f\u7528\u5982\u4e0b\u65b9\u6cd5\u4e2d\u7684\u4e00\u4e2a\u542f\u52a8\u8282\u70b9\uff1a"}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"\u4f7f\u7528\u4ea4\u4e92-python",children:"\u4f7f\u7528\u4ea4\u4e92 Python\uff1a"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"$ python\n>>> from dora import Node\n>>> node = Node(\"node_0\")\n>>> event = node.next()\n>>> event\n{'id': 'tick', 'type': 'INPUT', 'value': <pyarrow.lib.NullArray object at 0x7bda86924460>\n0 nulls, 'kind': 'dora', 'metadata': {'open_telemetry_context': ''}}\n"})}),"\n",(0,o.jsx)(n.h3,{id:"\u4f7f\u7528-python",children:"\u4f7f\u7528 Python"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'$ python my_script.py # <-- node = Node("node_0")\n# \u65e5\u5fd7\u5c06\u663e\u793a\u5728\u60a8\u7684\u7ec8\u7aef\u4e2d\n'})}),"\n",(0,o.jsx)(n.h3,{id:"\u4f7f\u7528-rust",children:"\u4f7f\u7528 Rust"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"$ cargo run my_node # <-- DoraNode::init_from_node_id(node_id);\n# \u65e5\u5fd7\u5c06\u663e\u793a\u5728\u60a8\u7684\u7ec8\u7aef\u4e2d\n"})}),"\n",(0,o.jsx)(n.h3,{id:"\u4f7f\u7528\u4e00\u4e2a-jupyter-notebook",children:"\u4f7f\u7528\u4e00\u4e2a jupyter notebook"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:"https://raw.githubusercontent.com/dora-rs/dora-rs.github.io/833f06023329439f5c7d4b6b610c080135d6d09e/static/img/jupyter.png",alt:"python"})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>s});var o=t(96540);const r={},d=o.createContext(r);function i(e){const n=o.useContext(d);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),o.createElement(d.Provider,{value:n},e.children)}}}]);